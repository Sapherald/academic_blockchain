<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Blockchain - Learning Records</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>Transparent Academic Management System</h1>
            <h2>Student Learning Records (SL01)</h2>
        </header>
        
        <div class="tabs">
            <button class="tab-btn active" data-tab="add-milestone">Add Milestone</button>
            <button class="tab-btn" data-tab="view-records">View Records</button>
            <button class="tab-btn" data-tab="view-analytics">Analytics</button>
        </div>
        
        <div id="add-milestone" class="tab-content active">
            <div class="card">
                <h3>Add Academic Milestone</h3>
                <form id="milestoneForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="student_id">Student ID:</label>
                            <input type="text" id="student_id" name="student_id" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="student_name">Student Name:</label>
                            <input type="text" id="student_name" name="student_name" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="course_id">Course ID:</label>
                            <input type="text" id="course_id" name="course_id" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="activity_type">Activity Type:</label>
                            <select id="activity_type" name="activity_type" required>
                                <option value="Quiz">Quiz</option>
                                <option value="Assignment">Assignment</option>
                                <option value="Midterm">Midterm</option>
                                <option value="Final Exam">Final Exam</option>
                                <option value="Project">Project</option>
                                <option value="Lab">Lab</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="activity_name">Activity Name:</label>
                            <input type="text" id="activity_name" name="activity_name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="instructor_name">Instructor ID:</label>
                            <input type="text" id="instructor_name" name="instructor_name" 
                                placeholder="e.g., 0xInstructor1" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="grade">Grade:</label>
                            <input type="number" id="grade" name="grade" min="0" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="max_grade">Maximum Grade:</label>
                            <input type="number" id="max_grade" name="max_grade" min="1" value="100">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="remarks">Remarks (Optional):</label>
                        <textarea id="remarks" name="remarks" rows="3"></textarea>
                    </div>
                    
                    <button type="submit" class="btn primary-btn">Submit to Blockchain</button>
                </form>
                <div id="form-result" class="result-box hidden"></div>
            </div>
        </div>
        
        <div id="view-records" class="tab-content">
            <div class="card">
                <h3>View Student Records</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="search_student_id">Student ID:</label>
                        <input type="text" id="search_student_id" name="search_student_id">
                    </div>
                    
                    <div class="form-group">
                        <label for="search_course_id">Course ID (Optional):</label>
                        <input type="text" id="search_course_id" name="search_course_id">
                    </div>
                    
                    <div class="form-group search-btn-group">
                        <button id="searchStudentBtn" class="btn secondary-btn">Search</button>
                    </div>
                </div>
                
                <div id="student-records" class="results-container hidden">
                    <h4>Academic Records</h4>
                    <div class="student-info">
                        <p><strong>Student ID:</strong> <span id="display-student-id"></span></p>
                        <p><strong>Average Grade:</strong> <span id="display-average"></span></p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Course</th>
                                <th>Activity</th>
                                <th>Grade</th>
                                <th>Status</th>
                                <th>Date</th>
                                <th>Instructor</th>
                            </tr>
                        </thead>
                        <tbody id="records-table-body">
                            <!-- Records will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="card">
                <h3>View Course Records</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="search_course_only">Course ID:</label>
                        <input type="text" id="search_course_only" name="search_course_only">
                    </div>
                    
                    <div class="form-group search-btn-group">
                        <button id="searchCourseBtn" class="btn secondary-btn">Search</button>
                    </div>
                </div>
                
                <div id="course-records" class="results-container hidden">
                    <h4>Course Academic Records</h4>
                    <div class="course-info">
                        <p><strong>Course ID:</strong> <span id="display-course-id"></span></p>
                        <p><strong>Total Records:</strong> <span id="display-record-count"></span></p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Student ID</th>
                                <th>Student Name</th>
                                <th>Activity</th>
                                <th>Grade</th>
                                <th>Status</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="course-table-body">
                            <!-- Records will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="view-analytics" class="tab-content">
            <div class="card">
                <h3>Student Performance Analytics</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="analytics_student_id">Student ID:</label>
                        <input type="text" id="analytics_student_id" name="analytics_student_id">
                    </div>
                    
                    <div class="form-group search-btn-group">
                        <button id="analyzeStudentBtn" class="btn secondary-btn">Analyze</button>
                    </div>
                </div>
                
                <div id="analytics-results" class="results-container hidden">
                    <h4>Performance Analysis</h4>
                    <div class="analytics-info">
                        <p><strong>Student ID:</strong> <span id="analytics-student-id"></span></p>
                    </div>
                    
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h5>Overall Average</h5>
                            <div class="analytics-value" id="overall-average"></div>
                        </div>
                        
                        <div class="analytics-card">
                            <h5>Course Breakdown</h5>
                            <div class="analytics-chart" id="course-chart"></div>
                        </div>
                        
                        <div class="analytics-card">
                            <h5>Activity Type Performance</h5>
                            <div class="analytics-chart" id="activity-chart"></div>
                        </div>
                        
                        <div class="analytics-card">
                            <h5>Time Trend</h5>
                            <div class="analytics-chart" id="trend-chart"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
